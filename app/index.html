<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <title>Cult Of Maybe</title>
  <style>
    * {
      margin: 0;
      padding: 0;
    }
  </style>
</head>

<body>

  <!-- Should always be loaded first !-->
  <script src="/socket.io/socket.io.js"></script>
  <script src='../node_modules/phaser/build/phaser.js'></script>

  <script src="library/map/pos.js"></script>
  <script src="library/map/map.js"></script>

  <script src="library/tile/tiles.js"></script>

  <script src="library/menu.js"></script>

  <script src="library/inputHandler.js"></script>
  <script src="library/things/player.js"></script>
  <script src="library/things/minimap.js"></script>
  <script src='library/nw.js'></script>

  <script src='library/Canvas.js'></script>

  <!-- Should always be loaded last !-->
  <script src='library/init.js'></script>
  <div id="minimap" style="border-color: #000; border-width: 4px; border-style: solid;  z-index: 100; position: absolute; bottom: 0; right: 0; margin-bottom: 20px; margin-right: 20px; width: 200px; height: 200px; background: green;">
   <div id="minimapviewport" style="pointer-events: none; position: relative; top: 0px; left: 20px; border-width: 1px; border-style: solid; border-color: #fff; height: 40px; width: 40px; ">
    </div> 
  </div>
  <script>
    var minihax = function minihax(ev) {
      var x = ev.layerX;
      var y = ev.layerY;
      var cameraPosY = (y / 200) * ($_.map.height * $_.map.tile.y);
      
      $_.game.camera.y = (y / 200) * ($_.map.height * $_.map.tile.y) - ($_.game.camera.height / 2);
      $_.game.camera.x = (x / 200) * ($_.map.width * $_.map.tile.x) - ($_.game.camera.width / 2);

    }
    var el = document.getElementById('minimap');
    el.addEventListener('click', minihax);
  </script>
</body>

</html>
